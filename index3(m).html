<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>لاگین | سرور مهدی</title>
<link rel="icon" href="m4.png" type="image/png" />
<link rel="stylesheet" href="style-in2.css">
</head>
<body>

<div id="loader">
  <div class="spinner"></div>
  <h2>در حال بارگذاری...</h2>
</div>

<form class="login-form" onsubmit="return validateLogin(event)">
  <h2>ورود به حساب کاربری</h2>
  <div class="error-message" id="errorMsg"></div>

  <label for="username">نام کاربری</label>
  <input type="text" id="username" placeholder="نام کاربری را وارد کنید" autocomplete="off" />

  <label for="password">رمز عبور</label>
  <div class="password-wrapper">
    <input type="password" id="password" placeholder="رمز عبور را وارد کنید" autocomplete="off" />
    <svg class="toggle-password" onclick="togglePassword()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path id="eyeOpen" d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17a5 5 0 110-10 5 5 0 010 10z"/>
      <circle id="pupil" cx="12" cy="12" r="2.5"/>
      <path id="eyeClosed" d="M4 12l4 4 8-8" stroke="var(--primary-color)" stroke-width="2" fill="none" style="display:none;"/>
    </svg>
  </div>

  <button type="submit">ورود</button>
</form>

<script>
function togglePassword() {
  const passInput = document.getElementById('password');
  const eyeOpen = document.getElementById('eyeOpen');
  const pupil = document.getElementById('pupil');
  const eyeClosed = document.getElementById('eyeClosed');

  if (passInput.type === 'password') {
    passInput.type = 'text';
    eyeOpen.style.display = 'none';
    pupil.style.display = 'none';
    eyeClosed.style.display = 'block';
  } else {
    passInput.type = 'password';
    eyeOpen.style.display = 'block';
    pupil.style.display = 'block';
    eyeClosed.style.display = 'none';
  }
}

function validateLogin(event) {
  event.preventDefault();

  const user = document.getElementById('username').value.trim();
  const pass = document.getElementById('password').value.trim();
  const errorMsg = document.getElementById('errorMsg');

  if (user === 'mahdi' && pass === '13881388') {
    errorMsg.style.display = 'none';
    window.location.href = 'indexserver2.html';
  } else {
    errorMsg.style.display = 'block';
    errorMsg.textContent = 'نام کاربری یا رمز عبور اشتباه است!';
  }

  return false;
}

// مخفی کردن لودینگ بعد از 2 ثانیه
window.addEventListener('load', () => {
  setTimeout(() => {
    document.getElementById('loader').classList.add('hidden');
  }, 420);
});
</script>

</body>
</html>
